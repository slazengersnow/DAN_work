# 月次報告ページ年度・月非表示 - 複数手法ソリューション

7つの異なる手法を順番に試すことで、確実に年度・月の行を非表示にします。

## 概要

このソリューションは以下の7つの方法を順番に試し、1つでも成功したら終了します：

1. **XPath指定**
2. **CSSセレクタ**
3. **ID指定**
4. **テキスト内容検索**
5. **フォーム要素**
6. **更新ボタン**
7. **スタイルシート追加**

## ファイル構成

1. **multi-method-hide.js**
   - フルコメント付きのメインスクリプト
   - デバッグ用のコンソールログ付き

2. **multi-method-bookmarklet.txt**
   - 圧縮されたブックマークレット版
   - アラートで結果を通知

## 使用方法

### ブックマークレットとして使用（推奨）

1. `multi-method-bookmarklet.txt`のコード全体をコピー
2. ブックマークバーで右クリック → 新しいブックマーク
3. 名前：「月次報告マルチ修正」
4. URL：コピーしたコードを貼り付け
5. 保存後、月次報告ページでクリック

### コンソールで実行

1. 月次報告ページを開く
2. F12で開発者ツールを開く
3. コンソールタブを選択
4. `multi-method-hide.js`のコードをコピー&ペースト
5. Enterキーで実行

## 各手法の詳細

### 方法1: XPath指定
```javascript
const xpath = '//*[@id="root"]/div/div[2]/main/div/div[1]';
```
過去に成功実績のあるXPathパスを使用

### 方法2: CSSセレクタ
複数の一般的なセレクタパターンを試行：
- `#root > div > div:nth-child(2) > main > div > div:first-child`
- `.container > .row:first-child`
- `.year-month-selector`
- その他

### 方法3: ID指定
よくある要素IDを直接検索：
- `yearMonthSelector`
- `filterRow`
- `dateFilter`
- その他

### 方法4: テキスト内容検索
「年度:」と「月:」の両方を含む要素を検索

### 方法5: フォーム要素
セレクトボックスから親要素をたどって行全体を特定

### 方法6: 更新ボタン
「更新」ボタンから親要素をたどって行全体を特定

### 方法7: スタイルシート追加
複数のCSSセレクタを含むスタイルシートを追加（最終手段）

## 特徴

- **高い成功率**: 7つの手法により、ほぼ確実に成功
- **効率的**: 成功したら即座に終了
- **デバッグ対応**: 各手法の成功/失敗をログ出力
- **フォールバック**: 最後にスタイルシートも追加

## トラブルシューティング

### 成功しない場合

1. **コンソールログを確認**
   ```javascript
   // どの方法が試されたかを確認
   console.log('実行ログを確認');
   ```

2. **要素の構造を確認**
   ```javascript
   // 実際の年度・月の要素を調査
   document.querySelectorAll('*').forEach(el => {
     if (el.textContent.includes('年度:')) {
       console.log(el, el.className, el.id);
     }
   });
   ```

3. **年度・月の値を更新**
   ```javascript
   // 2024年、5月以外の場合はコードを修正
   ```

## 利点

1. **包括的**: 多様なアプローチで高い成功率
2. **順次実行**: 効率的に処理
3. **非破壊的**: 表示のみを変更
4. **デバッグ可能**: 詳細なログ出力
5. **柔軟性**: 新しい手法を追加可能

## 注意事項

- 非表示は一時的（ページリロードで復元）
- 年度や月の値が変わった場合はコードの修正が必要
- ブラウザやサイトの更新により一部の手法が動作しなくなる可能性
- スタイルシートの追加は最終手段（効果の確認が困難）

## まとめ

このソリューションは7つの異なる手法を組み合わせることで、最も確実に月次報告ページの年度・月の行を非表示にします。各手法は独立しているため、サイトの構造が変更されても、いずれかの方法で成功する可能性が高くなっています。