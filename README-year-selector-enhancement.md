# 年度セレクタ表示制御改善

この変更では、月次報告画面と従業員詳細画面の年度セレクタの表示/非表示を改善し、ユーザーエクスペリエンスを向上させました。

## 実装内容

1. **月次詳細タブの年度セレクタ表示**
   - 月次詳細タブの編集ボタン横の「対象年度」ドロップダウンを表示
   - より詳細なCSSセレクタを使用して特定の要素のみに適用

2. **月次報告画面トップパネルの年度セレクタ非表示**
   - 月次報告画面上部の年度・月選択パネルを非表示化
   - ページ上部のスペースを効率的に活用

3. **従業員詳細画面の年度セレクタ表示**
   - 従業員詳細画面にも年度セレクタを表示するロジックを実装
   - 従業員の年度別データを閲覧するための機能を追加

## 主な変更ファイル

- `frontend/src/pages/MonthlyReport/DetailViewEnhancer.js`
  - 詳細なDOM操作により年度セレクタの表示/非表示を制御
  - MutationObserverで動的に追加される要素にも対応
  - デバッグログ出力機能を追加

- `frontend/src/pages/MonthlyReport/MonthlyDetailEnhancer.css`
  - 年度セレクタのCSS表示制御を実装
  - 特定要素の選択子を最適化

- `frontend/src/pages/EmployeeDetailPage.tsx`
  - 従業員詳細画面に制御スクリプトを追加

- `frontend/src/pages/MonthlyReport/index.tsx`
  - 月次報告画面に制御スクリプトを追加

## 実装の特徴

1. **選択的な要素制御**
   - 特定のコンテキストに基づいて要素の表示/非表示を制御
   - 複数の方法で要素を検出（ID、クラス、親要素、テキスト内容など）

2. **DOM変更の監視**
   - MutationObserverを使用して動的に追加・変更される要素を監視
   - タブ切り替えなどのイベントに対応

3. **デバッグログ出力**
   - 詳細なログ出力により動作状況を確認可能
   - 問題発生時のトラブルシューティングを容易に

4. **冗長性と堅牢性**
   - 複数の手法（インラインスタイル、CSSルール、DOM操作）を組み合わせて確実に適用
   - 定期的な再適用で状態の一貫性を維持

## 動作確認方法

1. 月次報告画面を開く
   - 上部の年度・月選択パネルが非表示になっていることを確認

2. 月次詳細タブに移動
   - 編集ボタン横に年度選択ドロップダウンが表示されていることを確認

3. 従業員詳細画面を開く
   - 従業員詳細ヘッダー部分に年度選択ドロップダウンが表示されていることを確認

4. コンソールログを確認
   - `[DetailViewEnhancer]` プレフィックス付きのログメッセージが表示されていることを確認