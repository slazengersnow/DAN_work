# 年度・月表示非表示化ソリューション

このディレクトリには、月次報告画面の年度・月表示を非表示にするための包括的なソリューションが含まれています。

## 概要

「year-month-hider-generator.js」スクリプトを作成しました。このスクリプトは以下のファイルを自動生成します：

1. **スタンドアロンスクリプト** (`year-month-hider-standalone.js`)
   - HTMLに直接埋め込むか、外部スクリプトとして読み込み可能
   - 年度・月表示を非表示にし、タブ機能は維持

2. **ブラウザコンソール用注入スクリプト** (`inject-year-month-hider.js`)
   - ブラウザのデベロッパーツールのコンソールに貼り付けて実行可能
   - CSSとJavaScriptを1回の操作で注入

3. **ブックマークレット** (`year-month-hider-bookmarklet.js`)
   - ブラウザのブックマークとして保存でき、クリックで実行可能
   - 最適化されたコードで容量制限内に収まる設計

4. **Chrome拡張機能** (`year-month-hider-extension/`)
   - Chromeブラウザに拡張機能としてインストール可能
   - 自動的に全ページで動作し、月次報告画面を検出

5. **デモページ** (`year-month-hider-demo.html`)
   - スクリプトの動作確認用のHTMLサンプル
   - 有効/無効の切り替え機能付き

## 使用方法

### 生成スクリプトの実行手順

```bash
# ディレクトリに移動
cd /Users/gotouhiroaki/Programming/DAN_work/disability-employment-system

# 生成スクリプトを実行
node year-month-hider-generator.js
```

実行後、`year-month-hider-output`ディレクトリに各ファイルが生成されます。

### 各ソリューションの使用方法

#### 1. スタンドアロンスクリプト

`index.html`のhead要素内に以下を追加：

```html
<script src="js/year-month-hider-standalone.js"></script>
```

#### 2. ブラウザコンソール

1. デベロッパーツールを開く（F12キー）
2. コンソールタブを選択
3. `inject-year-month-hider.js`の内容を貼り付けて実行

#### 3. ブックマークレット

1. `year-month-hider-bookmarklet.js`ファイルを開く
2. 「javascript:」で始まるコードをコピー
3. ブラウザで新しいブックマークを作成し、URLの代わりにこのコードを貼り付け
4. 月次報告画面でこのブックマークをクリック

#### 4. Chrome拡張機能

1. Chromeで「chrome://extensions/」を開く
2. 「デベロッパーモード」をオンにする
3. 「パッケージ化されていない拡張機能を読み込む」をクリック
4. `year-month-hider-extension`フォルダを選択

## 技術的特徴

- **複数の検出方法**：クラス名、テキスト内容、DOM構造など様々な手法で年度・月表示要素を特定
- **タブ関連要素の特定と維持**：タブ機能が正常に動作するよう特別に処理
- **エラーハンドリング**：各処理ステップに包括的なエラーハンドリングを実装
- **メモリリーク防止**：以前の監視を適切に停止する機能
- **SPA対応**：ページ遷移を検出し、新しいビューでも確実に動作
- **非同期ローディング対応**：遅延読み込みされる要素も確実に処理

## 拡張と改良案

このソリューションは以下のように拡張できます：

1. **設定パネル**：ブラウザ拡張機能に設定画面を追加し、動作をカスタマイズ可能に
2. **動的フィルタ**：特定のページや条件でのみ機能するフィルタリングオプション
3. **多言語対応**：各種メッセージの国際化
4. **リモート配布**：CDN経由で最新バージョンのスクリプトを配布する仕組み

## 開発者向け情報

ソースコードをカスタマイズする場合：

1. `year-month-hider-generator.js`の以下の変数を編集：
   - `yearMonthHiderScript`：JavaScriptのメイン機能
   - `yearMonthHiderCSS`：スタイル定義

2. スクリプトを再実行して、更新されたファイルを生成
